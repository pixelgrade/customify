!function(){"use strict";var n={n:function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},d:function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},e=jQuery,o=n.n(e);function a(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=".is-color-scheme-switcher-button",c="color-scheme-dark-temp",u=o()("html"),d=null===(e=window)||void 0===e||null===(t=e.wp)||void 0===t?void 0:t.customize,l=!!d,t=new(function(){function t(e){!function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.$element=o()(e),this.$colorSchemeButtons=o()(r),this.$colorSchemeButtonsLink=this.$colorSchemeButtons.children("a"),this.matchMedia=window.matchMedia("(prefers-color-scheme: dark)"),this.darkModeSetting=u.data("dark-mode-advanced"),this.theme=null,this.initialize()}var e,i,n;return e=t,(i=[{key:"initialize",value:function(){localStorage.removeItem(c),this.bindEvents(),this.bindCustomizer(),this.update()}},{key:"bindEvents",value:function(){var e=this;o()(document).on("click",r,this.onClick.bind(this)),this.matchMedia.addEventListener("change",function(){localStorage.removeItem(c),e.update()})}},{key:"bindCustomizer",value:function(){var i=this;d&&d.bind("ready",function(){var e=d("sm_dark_mode_advanced");localStorage.removeItem(c),i.darkModeSetting=e(),i.update(),e.bind(function(e,t){localStorage.removeItem(c),i.darkModeSetting=e,i.update()})})}},{key:"onClick",value:function(e){e.preventDefault();e=this.isCompiledDark();localStorage.setItem(this.getStorageItemKey(),e?"light":"dark"),this.update()}},{key:"getStorageItemKey",value:function(){return l?c:"color-scheme-dark"}},{key:"isSystemDark",value:function(){var e="on"===this.darkModeSetting;return"auto"===this.darkModeSetting&&this.matchMedia.matches&&(e=!0),e}},{key:"isCompiledDark",value:function(){var e=this.isSystemDark(),t=localStorage.getItem(this.getStorageItemKey());return null!==t&&(e="dark"===t),e}},{key:"update",value:function(){u.toggleClass("is-dark",this.isCompiledDark())}}])&&a(e.prototype,i),n&&a(e,n),t}());window.myApi={},window.myApi.isDark=t.isCompiledDark.bind(t)}();