window.customify=window.customify||parent.customify||{},function(e,n,t,i){void 0===customify.styleManager&&(customify.styleManager={}),_.extend(customify.styleManager,function(){const n=t.customize;n.bind("ready",(function(){i();const t=e("#style-manager-user-feedback-modal");if(t.length){const i=t.find("form"),o=t.find(".close"),s=t.find(".first-step"),a=t.find(".second-step"),c=t.find(".thanks-step"),r=t.find(".error-step");let d=!1,f=!1,l=!1;n.bind("saved",(function(){d||!f&&!l||(e("body").addClass("feedback-modal-open modal-open"),d=!0)}));const u=n("sm_color_palette");_.isUndefined(u)||u.bind((function(e,n){e!=n&&(f=!0)}));const m=n("sm_color_palette_variation");_.isUndefined(m)||m.bind((function(e,n){e!=n&&(f=!0)}));const p=n("sm_font_palette");_.isUndefined(p)||p.bind((function(e,n){e!=n&&(l=!0)})),i.on("submit",(function(n){n.preventDefault();let t=e(n.target),i={action:"customify_style_manager_user_feedback",nonce:customify.styleManager.userFeedback.nonce,type:t.find("input[name=type]").val(),rating:t.find("input[name=rating]:checked").val(),message:t.find("textarea[name=message]").val()};e.post(customify.config.ajax_url,i,(function(e){!0===e.success?(s.hide(),a.hide(),c.show(),r.hide()):(s.hide(),a.hide(),c.hide(),r.show())}))})),i.find("input[name=rating]").on("change",(function(e){setTimeout((function(){a.show()}),300);let n=i.find("input[name=rating]:checked").val();i.find(".rating-placeholder").text(n)})),o.on("click",(function(n){n.preventDefault(),e("body").removeClass("feedback-modal-open modal-open"),setTimeout((function(){s.show(),a.hide(),c.hide(),r.hide()}),300)}))}}));const i=function(){e(".sm-tabs").each((function(n,t){const i=e(t),o=i.closest(".control-section"),s=i.children(".sm-tabs__item"),a=s.map((n,t)=>"sm-view-"+e(t).data("target")).toArray().join(" ");function c(e){const n=e.data("target");s.removeClass("sm-tabs__item--active"),e.addClass("sm-tabs__item--active"),o.removeClass(a).addClass("sm-view-"+n)}i.on("click",".sm-tabs__item",(function(n){n.preventDefault(),c(e(this))})),c(s.first())}))},o=function(e,n){if(0===e.indexOf("#")&&(e=e.slice(1)),3===e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),6!==e.length)throw new Error("Invalid HEX color.");let t=parseInt(e.slice(0,2),16),i=parseInt(e.slice(2,4),16),o=parseInt(e.slice(4,6),16);return n?.299*t+.587*i+.114*o>186?"#000000":"#FFFFFF":(t=(255-t).toString(16),i=(255-i).toString(16),o=(255-o).toString(16),"#"+s(t)+s(i)+s(o))},s=function(e,n){n=n||2;return(new Array(n).join("0")+e).slice(-n)};return{inverseHexColor:o,inverseHexColorToBlackOrWhite:function(e){return o(e,!0)},padZero:s}}())}(jQuery,window.customify,wp,document);