!function(t,e,i){Object.defineProperty(String.prototype,"hashCode",{value:function(){var t,e=0;for(t=0;t<this.length;t++)e=(e<<5)-e+this.charCodeAt(t),e|=0;return e}}),t(e).on("load",(function(){n()}));const n=function(){if("undefined"==typeof WebFont){let t=i.createElement("script");t.src=parent.customify.config.webfontloader_url,t.type="text/javascript";let e=i.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}},o=[];t((function(){const n=parent.wp.customize,s=parent.customify,f=n.settings.settings,l=new RegExp("-","g");t.each(s.config.settings,(function(e,o){const s=void 0===o.properties_prefix?"":o.properties_prefix;if("font"===o.type)n(e,(function(e){e.bind((function(e){if(void 0===e)return;void 0!==e.font_family&&p(e,this.id);const i=t("#customify_font_output_for_"+o.html_safe_option_id);if(!i.length)return;const n=a(this.id,e);_.isEmpty(n)?i.html(""):i.html(r(this.id,n,s,e))}))}));else if(void 0!==f&&void 0!==f[e]&&void 0!==o.css&&void 0!==o.live&&!0===o.live)n(e,(function(e){e.bind((function(e){t.each(o.css,(function(i,n){const s=t(".dynamic_setting_"+o.html_safe_option_id+"_property_"+n.property.replace(l,"_")+"_"+i);if(!s.length)return;const f={};if(void 0!==n.property&&void 0!==n.selector&&(f[n.property]=n.selector),void 0!==n.callback_filter&&(f.callback=n.callback_filter),_.isEmpty(f))return;const a={properties:f,propertyValue:e,negative_value:!!n.hasOwnProperty("negative_value")&&n.negative_value};void 0!==this.unit&&(a.unit=this.unit),s.cssUpdate(a)}))}))}));else if("object"==typeof o.live&&o.live.length>0){const s=o.live.join();t.inArray(o.type,["text","textarea","ace_editor"])>-1&&n(e,(function(e){e.bind((function(e){i.createElement("div").innerHTML=e,t(s).html(e)}))}))}}));const a=function(t,e){const i={};if(void 0!==e.font_family&&!_.includes(["","false",!1],e.font_family)){if(i["font-family"]=e.font_family,-1===i["font-family"].indexOf(",")){const t=h(i["font-family"]);t.length&&(i["font-family"]+=","+t)}i["font-family"]=y(i["font-family"])}if(void 0!==e.font_variant&&!_.includes(["","false",!1],e.font_variant)){let t=e.font_variant;_.isString(t)?(-1!==t.indexOf("italic")?(i["font-style"]="italic",t=t.replace("italic","")):-1!==t.indexOf("oblique")&&(i["font-style"]="oblique",t=t.replace("oblique","")),""!==t&&("regular"!==t&&"normal"!==t||(t="400"),i["font-weight"]=t)):_.isNumeric(t)&&(i["font-weight"]=String(t))}if(void 0!==e.font_size&&!_.includes(["","false",!1],e.font_size)){let n=!1;i["font-size"]=e.font_size,isNaN(e.font_size)&&void 0!==e.font_size.value?(i["font-size"]=e.font_size.value,void 0!==e.font_size.unit&&(n=e.font_size.unit)):n=g(t,"font-size"),!1!==n&&(i["font-size"]+=n)}if(void 0!==e.letter_spacing&&!_.includes(["","false",!1],e.letter_spacing)){let n=!1;i["letter-spacing"]=e.letter_spacing,isNaN(e.letter_spacing)&&void 0!==e.letter_spacing.value?(i["letter-spacing"]=e.letter_spacing.value,void 0!==e.letter_spacing.unit&&(n=e.letter_spacing.unit)):n=g(t,"letter-spacing"),!1!==n&&(i["letter-spacing"]+=n)}if(void 0!==e.line_height&&!_.includes(["","false",!1],e.line_height)){let n=!1;i["line-height"]=e.line_height,isNaN(e.line_height)&&void 0!==e.line_height.value?(i["line-height"]=e.line_height.value,void 0!==e.line_height.unit&&(n=e.line_height.unit)):n=g(t,"line-height"),!1!==n&&(i["line-height"]+=n)}return void 0===e.text_align||_.includes(["","false",!1],e.text_align)||(i["text-align"]=e.text_align),void 0===e.text_transform||_.includes(["","false",!1],e.text_transform)||(i["text-transform"]=e.text_transform),void 0===e.text_decoration||_.includes(["","false",!1],e.text_decoration)||(i["text-decoration"]=e.text_decoration),i},r=function(i,n,o,f){const a=s.config.settings[i];let r="";if(void 0!==e&&void 0!==a.callback&&"function"==typeof e[a.callback]){const i=[];_.each(a.selector,(function(t,e){i.push(e)}));const o=t.extend(!0,{},a);return o.selector=i.join(", "),_.each(o.fields,(function(t,e){void 0!==t.unit&&(o.fields[e].unit=!1)})),_.each(n,(function(t,e){const i=e.replace(l,"_");n[i]=t})),e[a.callback](n,o)}if(void 0===a.selector||_.isEmpty(a.selector)||_.isEmpty(n))return r;const u=d(a.fields),g=[],p={};return _.each(a.selector,(function(t,e){_.isEmpty(t.properties)?g.push(e):p[e]=t})),_.isEmpty(g)||(r+="\n"+g.join(", ")+" {\n",r+=c(n,u,o),r+="}\n"),_.isEmpty(p)||_.each(p,(function(t,e){r+="\n"+e+" {\n",r+=c(n,t.properties,o),r+="}\n"})),r},c=function(e,i=!1,n=""){let o="";return t.each(e,(function(t,e){""!==e&&!1!==e&&u(t,i)&&(o+=n+t+": "+e+";\n")})),o},u=function(t,e=!1){return!_.isEmpty(t)&&(!!_.isEmpty(e)||(!!_.includes(e,t)||!(!_.has(e,t)||!e[t])))},d=function(t){const e={"font-family":!1,"font-weight":!1,"font-style":!1,"font-size":!1,"line-height":!1,"letter-spacing":!1,"text-align":!1,"text-transform":!1,"text-decoration":!1};return _.isEmpty(t)||_.each(t,(function(t,i){void 0!==e[i]&&(e[i]=!!t,"font-weight"===i&&(e["font-style"]=e[i]))})),e},g=function(t,e){return void 0===s.config.settings[t]||void 0===s.config.settings[t].fields[e]?!_.includes(["font-family","font-weight","font-style","line-height","text-align","text-transform","text-decoration"],e)&&"px":void 0!==s.config.settings[t].fields[e].unit?!_.includes(["","false",!1],s.config.settings[t].fields[e].unit)&&s.config.settings[t].fields[e].unit:void 0!==s.config.settings[t].fields[e][3]?!_.includes(["","false",!1],s.config.settings[t].fields[e][3])&&s.config.settings[t].fields[e][3]:"px"},p=function(t,e){if(void 0===t.font_family)return;const i=s.config.settings[e];let n=t.font_family;const f=s.fontFields.determineFontType(n);if("system_font"===f)return;const l=s.fontFields.getFontDetails(n,f);if("theme_font"===f||"cloud_font"===f){if(void 0===typeof l.src)return;let e=void 0===t.font_variant||void 0!==i.fields["font-weight"].loadAllVariants&&i.fields["font-weight"].loadAllVariants||void 0===l.variants||!_.includes(l.variants,t.font_variant)?void 0!==l.variants?l.variants:[]:t.font_variant;_.isEmpty(e)||(e=v(e),_.isEmpty(e)||(n=n+":"+e.map((function(t){return s.fontFields.convertFontVariantToFVD(t)})).join(","))),-1===o.indexOf(n)&&(WebFont.load({custom:{families:[n],urls:[l.src]},classes:!1,events:!1}),o.push(n))}else if("google_font"===f){let e=void 0===t.font_variant||void 0!==i.fields["font-weight"].loadAllVariants&&i.fields["font-weight"].loadAllVariants||void 0===l.variants||!_.includes(l.variants,t.font_variant)?void 0!==l.variants?l.variants:[]:t.font_variant;_.isEmpty(e)||(e=v(e),_.isEmpty(e)||(n=n+":"+e.join(","))),-1===o.indexOf(n)&&(WebFont.load({google:{families:[n]},classes:!1,events:!1}),o.push(n))}},v=function(t){return"string"==typeof t||"number"==typeof t?t=[t]:"object"==typeof t&&(t=Object.values(t)),t},h=function(t){let e="";const i=s.fontFields.getFontDetails(t);if(void 0===i.fallback_stack||_.isEmpty(i.fallback_stack)){if(void 0!==i.category&&!_.isEmpty(i.category)){const t=i.category;void 0!==s.fonts.categories[t]?e=void 0!==s.fonts.categories[t].fallback_stack?s.fonts.categories[t].fallback_stack:"":_.find(s.fonts.categories,(function(i){if(void 0!==i.aliases){if(-1!==x(i.aliases).indexOf(t))return e=void 0!==i.fallback_stack?i.fallback_stack:"",!0}return!1}))}}else e=i.fallback_stack;return e},y=function(t){let e=m(t);return e.length?(_.each(e,(function(t,i){""!==(t=(t=t.replace(new RegExp(/^\s*["'‘’“”]*\s*/),"")).replace(new RegExp(/\s*["'‘’“”]*\s*$/),""))?(-1!==t.indexOf(" ")&&(t='"'+t+'"'),e[i]=t):delete e[i]})),x(e)):""},m=function(t,e=","){return"object"==typeof t&&(t=v(t)),Array.isArray(t)?t:("string"!=typeof t&&(t=String(t)),(t=t.trim()).length?-1===t.indexOf(e)?[t]:b(e,t):[])},x=function(t,e=","){return"string"==typeof t||"number"==typeof t?String(t):("object"==typeof t&&(t=v(t)),Array.isArray(t)?E(e,t):"")},b=function(t,e,i){if(arguments.length<2||void 0===t||void 0===e)return null;if(""===t||!1===t||null===t)return!1;if("function"==typeof t||"object"==typeof t||"function"==typeof e||"object"==typeof e)return{0:""};!0===t&&(t="1");let n=(e+="").split(t+="");return void 0===i?n:(0===i&&(i=1),i>0?i>=n.length?n:n.slice(0,i-1).concat([n.slice(i-1).join(t)]):-i>=n.length?[]:(n.splice(n.length+i),n))},E=function(t,e){let i="",n="",o="";if(1===arguments.length&&(e=t,t=""),"object"==typeof e){if("[object Array]"===Object.prototype.toString.call(e))return e.join(t);for(i in e)n+=o+e[i],o=t;return n}return e}}))}(jQuery,window,document);